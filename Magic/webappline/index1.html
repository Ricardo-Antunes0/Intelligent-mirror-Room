<!DOCTYPE html>
<html>
<head>
    
    <title>Kafka Consumer Messages</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
      body {
        background-image: url('back.jpg');
      }
      </style>
    
    
    
    <script>
        $(document).ready(function() {
            setInterval(fetchMessagesTopic1, 200); // Fetch messages for topic1 every 2 seconds
            setInterval(fetchMessagesTopic2, 200); // Fetch messages for topic2 every 2 seconds

            function fetchMessagesTopic1() {
                $.ajax({
                    url: '/get_messages_topic1',
                    type: 'GET',
                    success: function(response) {
                        $('#messages_topic1').text(response.latest_message);
                    }
                });
            }

            function fetchMessagesTopic2() {
                $.ajax({
                    url: '/get_messages_topic2',
                    type: 'GET',
                    success: function(response) {
                        $('#messages_topic2').text(response.latest_message);
                    }
                });
            }
        });
    </script>
</head>
<body>
    <h1>Kafka Consumer Messages</h1>
    <h2>Topic 1:</h2>
    <div id="messages_topic1">
        <p>Loading messages for Topic 1...</p>
    </div>
    
    <h2>Topic 2:</h2>
    <div id="messages_topic2">
        <p>Loading messages for Topic 2...</p>
        
    </div>

    <div class="wrapper">

        <div id="chart"></div>
        <script>
                
                function getData(min, max){
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                }
        
                Plotly.plot('chart',[{
                    y:[getData()],
                    type:'line'
                }]);

                setInterval(function(){

                    Plotly.extendTraces('chart', {y:[[getData(40, 100)]]}, [0])

                },2000);
        
        </script>
    </div>

    <footer class="site-footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 col-md-6">
              <h6>What is a normal pulse rate?</h6>
              Your pulse rate, also known as your heart rate, is the number of times your heart beats per minute. A normal resting heart rate should be between 60 to 100 beats per minute, but it can vary from minute to minute.
              Your age and general health can also affect your pulse rate, so it’s important to remember that a ‘normal’ pulse can vary from person to person.
              <p></p>
              <h6>What is a fast pulse rate?</h6>
              If your heart rate is over 100 beats per minute when you are at rest, this is considered fast.
              A rapid heart rate, also known as tachycardia, can be related to many different health conditions. It’s normal for your heart rate to increase when you’re exercising or if your body is fighting off an infection.             
              If you have noticed a sudden increase in your heart rate and are also feeling dizzy, faint or having palpitations (a feeling of being aware of your heartbeat, or that your heart is pounding or beating irregularly), you should speak with your GP.
              <p></p>
              <h6>What is a slow pulse rate?</h6>
              A heart rate below 60 beats per minute when you are at rest is considered slow (bradycardia).
              A slower heart rate can be normal for some people, including athletes, fit and healthy young adults, or those taking medications like beta-blockers. For example, it is common for someone who exercises a lot to have a resting heart rate of 60 beats per minute or less.        
              However, if a slow heart rate is not normal for you, especially if you feel unwell with it, this could indicate a problem with your heart. If you notice your heart rate is slower than usual, and you are feeling faint, fatigued or dizzy, you should talk to your GP.
              <p></p>
              <p class="text-justify">
                





              </p>
            </div>
  
  
          
          </div>
          <hr>
        </div>
        <div class="container">
          <div class="row">
            
  
            <div class="col-md-4 col-sm-6 col-xs-12">
              <ul class="social-icons">
                <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                <li><a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a></li>
                <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>   
              </ul>
            </div>
          </div>
        </div>
  </footer>
    







</body>
</html>
